<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gestor de Materias</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="../styles/gestor-materias.css">
</head>
<body>

  <!-- CONTENEDOR PRINCIPAL -->
  <div class="layout">

    <!-- BARRA LATERAL -->
    <aside class="sidebar">
      <h2 class="logo">Gestor</h2>
      <ul class="menu">
        <li><a href="#"><i class="fa-solid fa-house"></i> Inicio</a></li>
        <li><a href="#"><i class="fa-solid fa-user-graduate"></i> Alumnos</a></li>
        <li><a href="#"><i class="fa-solid fa-chalkboard-teacher"></i> Profesores</a></li>
        <li class="activo"><a href="#"><i class="fa-solid fa-book"></i> Materias</a></li>
        <li><a href="#"><i class="fa-solid fa-gear"></i> Configuración</a></li>
      </ul>
    </aside>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="contenido">
      <header class="header">
        <h1>Gestor de Materias</h1>
        <div class="botones-header">
          <button id="btnVerPlan" class="btn btn-secondary">Ver Plan de Estudio</button>
          <button id="btnAgregarMateria" class="btn btn-primary">+ Nueva Materia</button>
        </div>
      </header>

      <!-- FILTROS DE BÚSQUEDA -->
      <section id="filtrosMateria" class="filtros">
        <div class="filtro">
          <label for="filtroArea">Área</label>
          <select id="filtroArea">
            <option value="">Todas las áreas</option>
          </select>
        </div>
        <div class="filtro">
          <label for="filtroMateria">Materia</label>
          <input type="text" id="filtroMateria" placeholder="Nombre de la materia">
        </div>
        <div class="filtro">
          <label for="filtroDia">Día</label>
          <select id="filtroDia">
            <option value="">Todos los días</option>
          </select>
        </div>
        <div class="filtro">
          <label for="filtroHora">Horario</label>
          <select id="filtroHora">
            <option value="">Todas las horas</option>
          </select>
        </div>
        <div class="filtro acciones-filtro">
          <button type="button" id="btnAplicarFiltros" class="btn btn-primary">Aplicar filtros</button>
          <button type="button" id="btnLimpiarFiltros" class="btn btn-secondary">Limpiar</button>
        </div>
      </section>

      <!-- CONTENEDOR DE CARDS -->
      <section id="contenedorMaterias" class="materias-grid">
        <!-- Las materias se cargarán aquí dinámicamente -->
      </section>
    </main>
  </div>

  <!-- MODAL PARA CREAR/EDITAR MATERIAS -->
  <div id="modalMateria" class="modal oculto">
    <div class="modal-contenido">
      <h2 id="modalTitulo">Nueva Materia</h2>
      <form id="formMateria">
        <div class="form-field">
          <label for="areaId">Área</label>
          <select id="areaId" name="areaId">
            <option value="">-- Selecciona un área --</option>
          </select>
        </div>

        <div class="form-field">
          <label for="catalogoId">Materia</label>
          <select id="catalogoId" name="catalogoId" disabled>
            <option value="">Selecciona un área primero</option>
          </select>
          <div id="nombreMateriaSeleccionada" class="materia-seleccion">
            Selecciona un área para ver las materias disponibles.
          </div>
        </div>

        <div class="form-field">
          <label for="profesor">Profesor</label>
          <input type="text" id="profesor" name="profesor" placeholder="Nombre del profesor">
        </div>

        <div class="form-field">
          <label for="cursoId">Curso</label>
          <select id="cursoId" name="cursoId">
            <option value="">-- Selecciona un curso --</option>
          </select>
        </div>

        <div class="form-field form-field--horarios">
          <div class="horarios-header">
            <label for="btnSeleccionarHorarios">Horarios seleccionados</label>
            <button type="button" id="btnSeleccionarHorarios" class="btn btn-primary btn-sm">Seleccionar en plan</button>
          </div>
          <div id="resumenHorarios" class="resumen-horarios">No hay bloques seleccionados.</div>
        </div>

        <div class="acciones">
          <button type="submit" class="btn btn-success">Guardar</button>
          <button type="button" id="btnCancelar" class="btn btn-secondary">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- MODAL: PLAN DE ESTUDIO -->
  <div id="modalPlan" class="modal oculto">
    <div class="modal-contenido plan">
      <h2>Plan de Estudio</h2>
      <label for="selectCurso">Seleccionar curso:</label>
      <select id="selectCurso">
        <option value="">-- Selecciona un curso --</option>
      </select>

      <div id="horarioContainer" class="horario-grid">
        <!-- Acá se generará el horario dinámicamente -->
      </div>

      <div class="acciones">
        <button type="button" id="btnGuardarPlan" class="btn btn-success">Guardar selección</button>
        <button type="button" id="btnCerrarPlan" class="btn btn-secondary">Cerrar</button>
      </div>
    </div>
  </div>

  <script src="../src/gestor-materias.js"></script>

  <div id="alertOverlay" class="alert-overlay oculto" role="dialog" aria-modal="true">
    <div class="alert-modal" role="document">
      <h3 id="alertTitle">Aviso</h3>
      <p id="alertMessage"></p>
      <div class="alert-actions">
        <button type="button" id="alertSecondary" class="btn btn-secondary">Cancelar</button>
        <button type="button" id="alertPrimary" class="btn btn-primary">Aceptar</button>
      </div>
    </div>
  </div>
</body>
</html>
